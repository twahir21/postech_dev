import{u as i}from"./q-Dk67VZbx.js";import{d}from"./q-Dk67VZbx.js";import{C as s}from"./q-DrN8Jx7F.js";import"./q-B4L2hSEC.js";const f=async c=>{const[a,e]=i();if(c.preventDefault(),!e.valid.name||!e.valid.contact){e.modal={isOpen:!0,message:"Tafadhali jaza taarifa zote sahihi",isSuccess:!1};return}if(e.isLoading)return;if(e.isLoading=!0,e.category.trim()){const o=new s("categories");if(a.categoryRefetch.value=!0,!(await o.create({generalName:e.category})).success)return}const r=new s("suppliers");a.supplierRefetch.value=!0,a.categoryRefetch.value=!0;const t=await r.create({company:e.name.trim().toLowerCase(),contact:e.contact.trim()});e.modal={isOpen:!0,message:t.message||"Tayari!",isSuccess:t.success},t.success&&(e.name="",e.contact="",e.category="",e.errors={name:"",contact:""},e.valid={name:!1,contact:!1}),e.isLoading=!1};export{d as _hW,f as s_McK0VcoRKcg};
