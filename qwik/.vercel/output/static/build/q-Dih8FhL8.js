import{u as o}from"./q-Dk67VZbx.js";import{d as S}from"./q-Dk67VZbx.js";import{C as r}from"./q-DrN8Jx7F.js";import"./q-B4L2hSEC.js";const m=async()=>{const[t]=o();if(t.isSubmitting)return;t.isSubmitting=!0;const s=parseFloat(t.editableFields.quantity),i=parseFloat(t.editableFields.discount),a=isNaN(s)?1:s,u=isNaN(i)?0:i;if(!t.productId){t.modal={isOpen:!0,message:"Product ID inatakiwa!",isSuccess:!1},t.isSubmitting=!1;return}const c={...t.query,...t.editableFields,quantity:a,discount:u,productId:t.productId,priceSold:Number(t.query.priceSold),priceBought:Number(t.query.priceBought),supplierId:t.supplierId,customerId:t.customerId,calculatedTotal:t.calculatedTotal},e=await new r("get-data").create(c);t.isSubmitting=!1,t.modal={isOpen:!0,message:e.message||(e.success?"Umefanikiwa":"Tatizo limejitokeza"),isSuccess:e.success}};export{S as _hW,m as s_pEfYpBhkl8A};
